# üß© Database Schema Overview (Design Spec)

> **‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô:** 1.0  
> **‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:** ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£, ‡∏™‡∏°‡∏∏‡∏î‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ (FarmBook), ‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô (Plot)  
> ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö, ‡∏û‡∏±‡∏í‡∏ô‡∏≤, ‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï

---

## üîó ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå (Relationships)

| ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|----------------|-----------|
| provinces 1 --- ‚àû districts | ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ |
| farmers 1 --- ‚àû farmbooks | ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏°‡∏∏‡∏î‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ |
| farmers 1 --- ‚àû plots | ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô |
| farmbooks ‚àû --- ‚àû plots | ‡∏ú‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á `farmbookPlots` |
| plots 1 --- ‚àû plotCoordinates | ‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏û‡∏¥‡∏Å‡∏±‡∏î (Polygon) ‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (Point) |
| statusTypes 1 --- ‚àû statusRecords | ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ 1 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢ record |
| farmers/plots 1 --- ‚àû statusRecords | ‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏´‡∏£‡∏∑‡∏≠‡πÅ‡∏õ‡∏•‡∏á ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏°‡∏µ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ |

---

## üßë‚Äçüåæ 1. Farmer

| Field | Type | Note |
|--------|------|------|
| FarmerID | INTEGER (PK) | auto-run |
| Name | TEXT |  |
| SurName | TEXT |  |
| CitizenID | TEXT (13) | unique |
| Phone | TEXT |  |
| ProvinceID | INTEGER (FK ‚Üí Province.ProvinceID) |  |
| DistrictID | INTEGER (FK ‚Üí District.DistrictID) |  |
| Address | TEXT |  |

---

## üìò 2. FarmBook

| Field | Type | Note |
|--------|------|------|
| FarmBookID | INTEGER (PK) | auto-run |
| FarmerID | INTEGER (FK ‚Üí Farmer.FarmerID) | 1-to-many (‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢ FarmBook) |
| Type | TEXT | ‡πÄ‡∏ä‡πà‡∏ô ‚Äú‡∏ô‡∏™.3‚Äù, ‚Äú‡πÇ‡∏â‡∏ô‡∏î‚Äù |
| Number | TEXT | ‡πÄ‡∏•‡∏Ç‡πÄ‡∏•‡πà‡∏° |
| CreatedAt | DATE | optional |

---

## üß≠ 3. Plot

| Field | Type | Note |
|--------|------|------|
| PlotID | INTEGER (PK) | auto-run |
| FarmerID | INTEGER (FK ‚Üí Farmer.FarmerID) | 1-to-many |
| ProvinceID | INTEGER (FK ‚Üí Province.ProvinceID) |  |
| DistrictID | INTEGER (FK ‚Üí District.DistrictID) |  |
| LandCode | TEXT | unique ‡∏ï‡πà‡∏≠‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î/‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ |
| DeedType | TEXT | ‚ÄúCHANOTE‚Äù, ‚ÄúNS3‚Äù, ‚ÄúNO_DOC‚Äù ‡∏Ø‡∏•‡∏Ø |
| AreaRai | REAL |  |
| AreaNgan | REAL |  |
| AreaWah | REAL |  |
| AreaAcre | REAL |  |
| GeometryType | TEXT | ‚ÄúPoint‚Äù / ‚ÄúPolygon‚Äù |
| OwnedBefore2020 | BOOLEAN | true = ‡∏ñ‡∏∑‡∏≠‡∏Ñ‡∏£‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏µ 2020 |
| CreatedAt | DATE |  |

---

## üó∫Ô∏è 4. PlotCoordinate

> ‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô object `Coordinates` ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Plot ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏´‡∏•‡∏≤‡∏¢‡∏à‡∏∏‡∏î‡πÉ‡∏ô Polygon

| Field | Type | Note |
|--------|------|------|
| CoordID | INTEGER (PK) |  |
| PlotID | INTEGER (FK ‚Üí Plot.PlotID) | 1-to-many |
| Lat | REAL |  |
| Lng | REAL |  |

‚úÖ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ Polygon ‡∏´‡∏£‡∏∑‡∏≠ Point (Point ‡∏Å‡πá‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏Ñ‡πà 1 ‡πÅ‡∏ñ‡∏ß‡πÑ‡∏î‡πâ)

---

## üîó 5. FarmBookPlot

> ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏•‡∏≤‡∏á (many-to-many) ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á FarmBook ‚Üî Plot

| Field | Type | Note |
|--------|------|------|
| FarmBookID | INTEGER (FK ‚Üí FarmBook.FarmBookID) |  |
| PlotID | INTEGER (FK ‚Üí Plot.PlotID) |  |
| PRIMARY KEY | (FarmBookID, PlotID) | ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥ |

‚úÖ ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏ì‡∏µ ‚ÄúPlot C ‡∏≠‡∏≤‡∏à‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô FarmBook 1 ‡πÅ‡∏•‡∏∞ 2 ‡πÑ‡∏î‡πâ‚Äù

---

## üìä 6. Province / District

> ‡πÅ‡∏¢‡∏Å 2 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÅ‡∏ö‡∏ö 1 ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î ‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏≠‡∏≥‡πÄ‡∏†‡∏≠

### Province
| Field | Type |
|--------|------|
| ProvinceID | INTEGER (PK) |
| NameTH | TEXT |

### District
| Field | Type |
|--------|------|
| DistrictID | INTEGER (PK) |
| ProvinceID | INTEGER (FK ‚Üí Province.ProvinceID) |
| NameTH | TEXT |

---

## üßæ 7. Status

> ‡πÅ‡∏ó‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á ‚Äústatuses‚Äù ‡πÄ‡∏î‡∏¥‡∏° ‡πÇ‡∏î‡∏¢‡πÅ‡∏¢‡∏Å‡πÄ‡∏õ‡πá‡∏ô 2 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏¢‡πà‡∏≠‡∏¢:  
> 1) ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô (`StatusType`)  
> 2) ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ entity (`StatusRecord`)

### StatusType
| Field | Type | Example |
|--------|------|---------|
| StatusTypeID | INTEGER (PK) | 1 |
| Name | TEXT | ‚Äú‡∏ñ‡∏∑‡∏≠‡∏Ñ‡∏£‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏µ 2020‚Äù |
| Description | TEXT | ‚Äú‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô‡∏ñ‡∏∑‡∏≠‡∏Ñ‡∏£‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏µ 2020‚Äù |

### StatusRecord
| Field | Type | Note |
|--------|------|------|
| StatusID | INTEGER (PK) | auto-run |
| FarmerID | INTEGER (nullable, FK ‚Üí Farmer.FarmerID) | ‡πÉ‡∏ä‡πâ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏Å‡∏£ |
| PlotID | INTEGER (nullable, FK ‚Üí Plot.PlotID) | ‡πÉ‡∏ä‡πâ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Ç‡∏≠‡∏á‡πÅ‡∏õ‡∏•‡∏á |
| StatusTypeID | INTEGER (FK ‚Üí StatusType.StatusTypeID) |  |
| IsActive | BOOLEAN | ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ‡∏´‡∏•‡∏≤‡∏¢‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô |
| UpdatedAt | DATE | ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î |

---

## ‚öôÔ∏è Design Principle Summary

- ‚úÖ **Normalization:** ‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å object ‡∏ã‡πâ‡∏≠‡∏ô‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏•‡∏π‡∏Å  
- ‚úÖ **Scalability:** ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞, ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î, ‡∏≠‡∏≥‡πÄ‡∏†‡∏≠ ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô schema ‡∏´‡∏•‡∏±‡∏Å  
- ‚úÖ **Traceability:** ‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏µ foreign key ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏î‡πâ  
- ‚úÖ **RDBMS-Ready:** ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏µ‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö MySQL, PostgreSQL, SQLite ‡πÑ‡∏î‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ  
- ‚úÖ **Prototyping-Friendly:** ‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON / localStorage ‡πÑ‡∏î‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö UI Prototype  

---

> **‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**  
> Schema ‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î *System-Driven Prototyping* ‚Äî  
> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ï‡∏£‡∏£‡∏Å‡∏∞, ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏à‡∏£‡∏¥‡∏á‡πÑ‡∏î‡πâ  
> ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÅ‡∏£‡∏Å
